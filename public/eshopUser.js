!function(i,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.EshopUser=n():i.EshopUser=n()}(self,(()=>(()=>{"use strict";var i={d:(n,t)=>{for(var s in t)i.o(t,s)&&!i.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:t[s]})},o:(i,n)=>Object.prototype.hasOwnProperty.call(i,n)},n={};i.d(n,{default:()=>t});class t{_state={user:null,token:null};constructor(i){this._params=i,this._container=i.root,this._onInit=i.onInit||function(){},this._init()}_init(){const i=document.cookie||"";if(""===i)return this._container&&this._render(),void this._onInit(this._state);const n={};i.split(";").forEach((function(i){var t=i.split("="),s=t[0].trim(),e=t[1].trim();n[s]=e}));const t=n.eshop_token;t?fetch("/api/user").then((i=>{if(i.ok)return i.json();throw new Error("Network response was not ok")})).then((i=>{this._state.user=i,this._state.token=t,this._container&&this._render(),this._onInit(this._state)})).catch((i=>{console.error("Error:",i)})):(this._container&&this._render(),this._onInit(this._state)),console.log("EshopUser initialized...")}_render(){const i=document.createElement("div");i.classList.add("user-login"),this._state.user?i.innerHTML='\n            <div class="user-base-info">\n                <div class=\'avatar\'>\n                    <img src="https://assets.ericengineer.com/i/2025/02/19/npvpq4.png" alt="" />\n                </div>\n                <div>\n                    <div class="name">hi~晚上好</div>\n                    <div class="sub-title">注册</div>\n                </div>\n            </div>\n            <div class="tips">\n                <div class="title">\n                    登入購物平臺後更多優惠\n                </div>\n                <div class="sub-title">登入可享，專屬優惠，貼心推薦！</div>\n            </div>\n\n            <div className="actions">\n            <div className="action-item">\n              <img src={img_user_cart} alt="" />\n              <div>购物车</div>\n            </div>\n            <div className="action-item">\n              <img src={img_user_more} alt="" />\n              <div>购物车</div>\n            </div>\n            <div className="action-item">\n              <img src={img_user_more} alt="" />\n              <div>购物车</div>\n            </div>\n            <div className="action-item">\n              <img src={img_user_more} alt="" />\n              <div>购物车</div>\n            </div>\n            <div className="action-item">\n              <img src={img_user_more} alt="" />\n              <div>购物车</div>\n            </div>\n            <div className="action-item">\n              <img src={img_user_more} alt="" />\n              <div>购物车</div>\n            </div>\n          </div>\n            \n            \n            ':i.innerHTML='\n             <div class="user-base-info">\n                <div class=\'avatar\'>\n                    <img src="https://assets.ericengineer.com/i/2025/02/19/npvpq4.png" alt="" />\n                </div>\n                <div>\n                    <div class="name">hi~晚上好</div>\n                    <div class="sub-title">注册</div>\n                </div>\n            </div>\n            <div class="tips">\n                <div class="title">\n                    登入購物平臺後更多優惠\n                </div>\n                <div class="sub-title">登入可享，專屬優惠，貼心推薦！</div>\n            </div>\n            <div class="action">\n                立即登入\n            </div>\n            ',this._container.appendChild(i)}}return n.default})()));